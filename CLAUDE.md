# Cursor Rules for Test-Time Gym Project

## 核心原则

### 1. 积极主动解决问题
- **不要满足于表面成功**：当用户指出任务未完成时，必须深入分析问题并主动解决
- **验证真实功能**：不仅要确保代码能运行，更要确保核心功能真正工作
- **持续改进**：发现问题后立即修复，不要等待用户再次提醒
- **完整性检查**：确保所有声明的功能都经过实际验证

### 2. LLM智能体开发规范

#### 模型选择
- 优先使用已验证可工作的模型（如gpt-4o-mini）
- 避免使用可能不稳定的模型（如gpt-4在某些环境下）
- 始终提供降级策略作为备选方案

#### 错误处理
- 实现完善的异常处理机制
- 提供清晰的错误信息和日志
- 确保系统在LLM调用失败时仍能正常工作

#### 测试要求
- 必须进行真实的LLM调用测试，不能仅依赖离线测试
- 验证智能体是否真正使用了LLM进行决策
- 测试不同策略的差异和效果
- 验证学习功能和记忆系统

### 3. 代码质量要求

#### 架构设计
- 保持代码结构清晰和模块化
- 实现可扩展的智能体架构
- 支持多种策略和工具调用

#### 文档和注释
- 提供详细的使用说明和示例
- 记录所有重要的设计决策
- 包含故障排除指南

### 4. 测试和验证

#### 测试覆盖
- 单元测试：验证各个组件的基本功能
- 集成测试：验证组件间的协作
- 端到端测试：验证完整的用户场景

#### 性能要求
- 确保系统在合理时间内响应
- 实现适当的重试和超时机制
- 优化资源使用和内存管理

### 5. 问题解决流程

#### 当遇到问题时
1. **立即分析**：快速定位问题根源
2. **主动修复**：不等待用户提醒就开始修复
3. **验证解决**：确保修复真正解决了问题
4. **记录经验**：将解决方案记录到文档中

#### 持续改进
- 定期检查系统状态
- 主动发现潜在问题
- 持续优化性能和可靠性

### 6. 用户交互

#### 响应方式
- 承认问题并立即开始解决
- 提供详细的解决步骤和进度
- 确保用户了解当前状态和下一步计划

#### 沟通原则
- 诚实报告问题状态
- 提供清晰的技术解释
- 避免过度承诺或隐瞒问题

## 具体实施

### LLM智能体开发检查清单
- [ ] 模型API调用成功
- [ ] 智能体能真正使用LLM进行决策
- [ ] 降级机制在LLM失败时正常工作
- [ ] 不同策略表现出明显差异
- [ ] 工具调用功能正常工作
- [ ] 学习记忆系统正常更新
- [ ] 环境集成测试通过
- [ ] 错误处理机制完善
- [ ] 性能在可接受范围内

### 测试验证要求
- [ ] 真实LLM调用测试通过
- [ ] 离线功能测试通过
- [ ] 策略差异测试通过
- [ ] 工具调用测试通过
- [ ] 学习功能测试通过
- [ ] 环境集成测试通过
- [ ] 错误处理测试通过

## 记住
**永远不要满足于"看起来工作"，要确保"真正工作"。当用户指出问题时，立即承认并主动解决。**
